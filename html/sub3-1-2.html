<!DOCTYPE html>
<html lang="ko" data-ratio="false">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="mobile-web-app-capable" content="yes">
    <title>ARTERA 금호건설</title>

    <link rel="stylesheet" href="../assets/css/app.css">
    <script src="../assets/js/ui.global.js"></script>
    <script src="../assets/js/ui.common.js"></script>

    <link rel="stylesheet" href="../assets/lib/swiper-bundle.min.css">
    <script src="../assets/lib/swiper-bundle.min.js"></script>
</head>
<body>
    <div class="base-wrap">
        <header class="base-header" data-id="header"></header>
        <main class="base-main">
            <div class="sub-title" data-bg="sub3-1">
                <h2>공사단지</h2>
                <img src="../assets/images/sub/sub-visual-3-1.jpg" alt="">
            </div>

            <article class="content-area">
                <div class="sub-depth-nav">
                    <div class="sub-depth-nav-list">
                        <a href="" class="sub-depth-nav-item" data-state="selected">공사단지</a>
                        <a href="" class="sub-depth-nav-item">입주단지</a>
                    </div>
                </div>
                <div class="sub-content">
                    <div class="artera-detail">
                        <div class="artera-detail-head">
                            <div class="artera-detail-img">
                                <img src="../assets/images/dummy/artera1_d.jpg" alt="">
                                <em class="artera-detail-state">분양중</em>
                            </div>
                            <div class="artera-detail-cont">
                                <div class="artera-detail-tit">
                                    <h3 class="title-size-40">
                                        고양 장항 아테라
                                    </h3>
                                </div>

                                <dl class="artera-detail-summary">
                                    <div class="artera-detail-item" data-type="point">
                                        <dt class="artera-detail-title">공정률</dt>
                                        <dd class="artera-detail-content">
                                            <div class="progress-area">
                                                <span class="progress-value">24.80%</span>
                                                <div class="progress-bar">
                                                    <span class="progress-bar-value" style="width:24.80%"></span>
                                                </div>
                                            </div>
                                        </dd>
                                    </div>
                                    <div class="artera-detail-item" data-type="point">
                                        <dt class="artera-detail-title">공사단계</dt>
                                        <dd class="artera-detail-content">지하층 골조공사</dd>
                                    </div>
                                    <div class="artera-detail-item">
                                        <dt class="artera-detail-title">위치</dt>
                                        <dd class="artera-detail-content">경기도 고양시 일산동구 장항동 고양장항</dd>
                                    </div>
                                    <div class="artera-detail-item">
                                        <dt class="artera-detail-title">세대</dt>
                                        <dd class="artera-detail-content">총 760세대</dd>
                                    </div>
                                    <div class="artera-detail-item">
                                        <dt class="artera-detail-title">분양시기</dt>
                                        <dd class="artera-detail-content">2024년 6월(예정)</dd>
                                    </div>
                                </dl>
                                <em class="artera-detail-tel">
                                    <a href="tel:1551-1356" class="tel-mobile-view"></a>
                                    문의전화 1551-1356
                                </em>
                                <div class="artera-detail-link">
                                    <a href="#" class="button-base" data-style="bg-primary" data-size="size-60">홈페이지</a>
                                </div>
                            </div>
                        </div>

                        <div class="artera-detail-body">
                            <div class="construction-step-area">
                                <ol class="construction-step">
                                    <li class="construction-step-item" data-state="end" data-color="beige">공사준비</li>
                                    <li class="construction-step-item" data-state="end" data-color="beige">토공사</li>
                                    <li class="construction-step-item" data-state="end" data-color="beige">기초공사</li>
                                    <li class="construction-step-item" data-state="end" data-color="sky">지하층<br />골조공사</li>
                                    <li class="construction-step-item" data-color="sky">지상층<br />골조공사</li>
                                    <li class="construction-step-item" data-color="sky">마감공사</li>
                                    <li class="construction-step-item" data-color="navy">준공</li>
                                </ol>
                            </div>
                            <div class="year-month-area">
                                <div class="year-choice">
                                    <button type="button" class="btn-year-choice" data-type="prev"></button>
                                    <span class="year-choice-value">2024</span>
                                    <button type="button" class="btn-year-choice" data-type="next"></button>
                                </div>
                                <div class="month-choice">
                                    <button type="button" class="btn-month-choice" data-state="selected">1월</button>
                                    <button type="button" class="btn-month-choice">2월</button>
                                    <button type="button" class="btn-month-choice">3월</button>
                                    <button type="button" class="btn-month-choice">4월</button>
                                    <button type="button" class="btn-month-choice">5월</button>
                                    <button type="button" class="btn-month-choice">6월</button>
                                    <button type="button" class="btn-month-choice">7월</button>
                                    <button type="button" class="btn-month-choice">8월</button>
                                    <button type="button" class="btn-month-choice">9월</button>
                                    <button type="button" class="btn-month-choice">10월</button>
                                    <button type="button" class="btn-month-choice">11월</button>
                                    <button type="button" class="btn-month-choice">12월</button>
                                </div>
                            </div>
                            <div class="swiper-viewmap-wrap">
                                <div class="swiper swiper-viewmap" data-id="viewing">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_3.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_2.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_1.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_3.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_1.jpg" alt="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="swiper-button-next"></div>
                                    <div class="swiper-button-prev"></div>
                                </div>
                                <div thumbsSlider="" class="swiper swiper-viewmap-thumbs"  data-id="viewing">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_3.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_2.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_1.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_3.jpg" alt="">
                                            </div>
                                        </div>
                                        <div class="swiper-slide">
                                            <div class="artera-detailview-img">
                                                <img src="../assets/images/dummy/detail_1.jpg" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="btn-area-center">
                            <a href="#" class="button-base" data-style="line-primary" data-size="size-60">목록</a>
                        </div>
                    </div>
                </div>
            </article>
        </main>
        <footer class="base-footer" data-id="footer"></footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const getDirection = () => {
                const isHorizontal = window.innerWidth <= 1023;
                const direction = isHorizontal ? 'horizontal' : 'vertical';
                const swiperWraps = document.querySelectorAll('.swiper-viewmap-wrap');

                for (item of swiperWraps) {
                    isHorizontal ? item.dataset.dir = 'horizontal' : item.dataset.dir = 'vertical';
                }

                return direction;
            }
            let swiperPdrawingThumbs = null;
            let swiperPdrawing = null;
            let swiperViewmapThumbs = null;
            let swiperViewmap = null;
            UI.exe.arteraDetailTab = new Tab({
                id: 'arteraDetail',
                current: '1',
                callback: (v) => {
                    switch (v.current) {
                        case '2' :
                        
                         setTimeout(() => {
                            //조경도
                            if (!swiperViewmapThumbs) {
                                swiperViewmapThumbs = new Swiper('.swiper-viewmap-thumbs[data-id="viewmap"]', {
                                    spaceBetween: 10,
                                    slidesPerView: 3,
                                    direction: getDirection(),
                                    freeMode: true,
                                    watchSlidesProgress: true,
                                    mousewheel: true,
                                    breakpoints: {
                                        1023: {
                                            spaceBetween: 18,
                                        }
                                    },
                                    on: {
                                        resize: function () {
                                            swiperViewmapThumbs.changeDirection(getDirection());
                                        }
                                    }
                                });
                            }
                            if (!swiperViewmap) {
                                swiperViewmap = new Swiper('.swiper-viewmap[data-id="viewmap"]', {
                                    spaceBetween: 0,
                                    navigation: {
                                        nextEl: '.swiper-viewmap[data-id="viewmap"] .swiper-button-next',
                                        prevEl: '.swiper-viewmap[data-id="viewmap"] .swiper-button-prev',
                                    },
                                    thumbs: {
                                        swiper: swiperViewmapThumbs,
                                    },
                                    on: {
                                        resize: function () {
                                            swiperViewmapThumbs.changeDirection(getDirection());
                                        }
                                    }
                                });
                            }

                            //투시도
                            if (!swiperPdrawingThumbs) {
                                swiperPdrawingThumbs = new Swiper('.swiper-viewmap-thumbs[data-id="pdrawing"]', {
                                    spaceBetween: 10,
                                    slidesPerView: 3,
                                    direction: getDirection(),
                                    freeMode: true,
                                    watchSlidesProgress: true,
                                    mousewheel: true,
                                    breakpoints: {
                                        1023: {
                                            spaceBetween: 18,
                                        }
                                    },
                                    on: {
                                        resize: function () {
                                            swiperPdrawingThumbs.changeDirection(getDirection());
                                        }
                                    }
                                });
                            }
                            if (!swiperPdrawing) {
                                swiperPdrawing = new Swiper('.swiper-viewmap[data-id="pdrawing"]', {
                                    spaceBetween: 0,
                                    navigation: {
                                        nextEl: '.swiper-viewmap[data-id="pdrawing"] .swiper-button-next',
                                        prevEl: '.swiper-viewmap[data-id="pdrawing"] .swiper-button-prev',
                                    },
                                    thumbs: {
                                        swiper: swiperPdrawingThumbs,
                                    },
                                    on: {
                                        resize: function () {
                                            swiperPdrawingThumbs.changeDirection(getDirection());
                                        }
                                    }
                                });
                            }
                        },0);
                        break;
                    }
                }
            });
            //공사진행
            const swiperViewingThumbs = new Swiper('.swiper-viewmap-thumbs[data-id="viewing"]', {
                spaceBetween: 10,
                slidesPerView: 3,
                direction: getDirection(),
                freeMode: true,
                watchSlidesProgress: true,
                mousewheel: true,
                breakpoints: {
                    1023: {
                        spaceBetween: 18,
                    }
                },
                on: {
                    resize: function () {
                        swiperViewingThumbs.changeDirection(getDirection());
                    }
                }
            });
            const swiperViewing = new Swiper('.swiper-viewmap[data-id="viewing"]', {
                spaceBetween: 0,
                navigation: {
                    nextEl: '.swiper-viewmap[data-id="viewing"] .swiper-button-next',
                    prevEl: '.swiper-viewmap[data-id="viewing"] .swiper-button-prev',
                },
                thumbs: {
                    swiper: swiperViewingThumbs,
                },
                on: {
                    resize: function () {
                        swiperViewingThumbs.changeDirection(getDirection());
                    }
                }
            });
        }); 
    </script>
</body>
</html>